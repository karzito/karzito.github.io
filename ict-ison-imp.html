<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Web font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="ENTERPRISE: ISON" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/built/images/favicon.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/ict-ison-imp" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    
        <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    TeX: {
        equationNumbers: {
        autoNumber: "AMS"
        }
    },
    tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$'] ],
    processEscapes: true,
    }
});
MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) {
        alert("Math Processing Error: "+message[1]);
    });
</script>
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="POSTECH ICT V+ 4.0 CLASS" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation" />
    <meta property="og:description" content="ISON 개발 관련 목차 2021-03-02 ISON Meeting_1 2021-03-24 ISON Meeting_2 2021-04-07 ISON Development: Error-State Kalman Filter_1 2021-04-07 ISON Development: Error-State Kalman Filter_2 2021-04-26 ISON Development: Drone System Implementation 2021-05-10 ISON Development: Drone Control (1) 2021-06-10 ISON Development: Drone Control (2) 2021-07-23 ISON Internship 2021-08-25 ISON Internship final 2021-09-24 ISON Semester2" />
    <meta property="og:url" content="http://localhost:4000/ict-ison-imp" />
    <meta property="og:image" content="http://localhost:4000/assets/built/images/ictCover.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-04-27T08:11:00+09:00" />
    <meta property="article:modified_time" content="2021-04-27T08:11:00+09:00" />
    <meta property="article:tag" content="Ict" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation" />
    <meta name="twitter:description" content="ISON 개발 관련 목차 2021-03-02 ISON Meeting_1 2021-03-24 ISON Meeting_2 2021-04-07 ISON Development: Error-State Kalman Filter_1 2021-04-07 ISON Development: Error-State Kalman Filter_2 2021-04-26 ISON Development: Drone System Implementation 2021-05-10 ISON Development: Drone Control (1) 2021-06-10 ISON Development: Drone Control (2) 2021-07-23 ISON Internship 2021-08-25 ISON Internship final 2021-09-24 ISON Semester2" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/built/images/ictCover.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="POSTECH ICT V+ 4.0 CLASS" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ict" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "POSTECH ICT V+ 4.0 CLASS",
        "logo": "http://localhost:4000/"
    },
    "url": "http://localhost:4000/ict-ison-imp",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/built/images/ictCover.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/ict-ison-imp"
    },
    "description": "ISON 개발 관련 목차 2021-03-02 ISON Meeting_1 2021-03-24 ISON Meeting_2 2021-04-07 ISON Development: Error-State Kalman Filter_1 2021-04-07 ISON Development: Error-State Kalman Filter_2 2021-04-26 ISON Development: Drone System Implementation 2021-05-10 ISON Development: Drone Control (1) 2021-06-10 ISON Development: Drone Control (2) 2021-07-23 ISON Internship 2021-08-25 ISON Internship final 2021-09-24 ISON Semester2"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/">POSTECH ICT V+ 4.0 CLASS</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-ict" role="menuitem"><a href="/tag/ict/">ICT V+ 4.0</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-ict post tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="27 April 2021">27 April 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/ict/'>ICT</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation</h1>
            </header>
            
            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/ictCover.jpg)">
            </figure>
            
            -->
            
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">ISON 개발 관련 목차 </span></p>
<ul class="table-of-contents-list">
    <li><a href="./ict-ison-meeting_1">2021-03-02 ISON Meeting_1</a></li>
    <li><a href="./ict-ison-meeting_2">2021-03-24 ISON Meeting_2</a></li>
    <li><a href="./ict-ison-eskf1">2021-04-07 ISON Development: Error-State Kalman Filter_1</a></li>
    <li><a href="./ict-ison-eskf2">2021-04-07 ISON Development: Error-State Kalman Filter_2</a></li>
    <li><a href="./ict-ison-imp">2021-04-26 ISON Development: Drone System Implementation</a></li>
    <li><a href="./ict-ison-ctrlr_1">2021-05-10 ISON Development: Drone Control (1)</a></li>
    <li><a href="./ict-ison-ctrlr_2">2021-06-10 ISON Development: Drone Control (2)</a></li>
    <li><a href="./ict-ison-internship">2021-07-23 ISON Internship</a></li>
    <li><a href="./ict-ison-internship2">2021-08-25 ISON Internship final</a></li>
    <li><a href="./ict-ison-semester2-plan">2021-09-24 ISON Semester2 Plan</a></li>
    <li><a href="./ict-ison-motor-ctrlr">2021-10-07 ISON Motor Controller Implementaion</a></li>
    <li><a href="./ict-ison-meeting_3">2021-10-26 ISON Meeting_3</a></li>
    <li><a href="./ict-ison-ndob">2021-10-26 ISON Nonlinear Disturbance Observer</a></li>
</ul>

<h1 id="11주차-드론-제작210426210507">11주차, 드론 제작(21.04.26~21.05.07)</h1>

<p>드론 부품이 모두 도착하여 ICT V4.0 과제 목표인 드론 스테이션 충전 패드 소형화 연구를 위한 드론 제작에 돌입하였다. 필요한 물품은 아래와 같다.</p>

<ul>
  <li>ESC 4개</li>
  <li>Power Distribution Module</li>
  <li>Brushless Motor (CW 2, CCW 2)</li>
  <li>드론 프레임 (3D 프린팅)</li>
  <li>Flight Controller (FC)</li>
  <li>배터리</li>
</ul>

<ol>
  <li>ESC (Aikon AK32 35A 4S)</li>
</ol>

<p><a href="https://www.notion.so/b4a260327dd94f239c1c183d4b2fbaf2">AK32 35A 4S specifications</a></p>

<p>AK32 35A 4S은 서보모터를 제어하기 위한 ESC(Electronic Speed Controller)로  48MHz에서 STM-32F-0 Cortex M0를 사용하는 ESC를 제어하기 위한 Firmware BLHeli32 가 다운로드 되어있으며, 48KHz까지 PWM 신호 생성이 가능하다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled.png" alt="untitled" />
</p>

<p>AK32 35A 4S의 실물 사진</p>

<ol>
  <li>Power Distribution Board (PDB-XT60)</li>
</ol>

<p>LiPo 배터리의 전원을 ESC 공급하기 위한 PDB (Power Distribution Board)로 카메라나 LED 등을 연결하여 쉽게 사용할 수 있도록 12V 및 5V를 쓸 수 있는 BEC (Battery Eliminator circuit)도 탑재되어 있다. 일종의 Regulator라고 생각하면 된다.</p>

<p>입력 배터리를 4S을 연결할 경우 출력 전압은 아래와 같다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 1.png" alt="untitled" />
</p>

<p>입력 배터리를 3S를 연결할 경우 출력 전압은 아래와 같다. 우리의 경우 3S LiPo 배터리를 사용할 예정이므로 Output Voltage는 LiPo voltage -1V로 기대할 수 있다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 2.png" alt="untitled" />
</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 3.png" alt="untitled" />
</p>

<p>PDB-XT60 실물사진</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 4.png" alt="untitled" />
</p>

<p>사용하는 ESC인 Aikon AK32 35A 4S와 결선은 위와 같이 이루어지며 편의상 위를 바라보고 있는 ESC를 0번 ESC라고 하겠다.</p>

<p>PDB-XT60을 통해서 배터리로부터 입력 받은 전압을 분배하여,  각 ESC로 인가한다.</p>

<ol>
  <li>Motor</li>
</ol>

<p>드론의 추력을 만들어 내기 위한 Motor는 4X Racerstar Racing Edition 1806 BR1806 2280KV 1-3S Brushless Motor로 선정하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 5.png" alt="untitled" />
</p>

<p>빨간색 캡 - CCW,  검은색 캡 - CW</p>

<p>모터의 Specification은 아래와 같다. 이중 우리가 사용할 모터는 2280KV 모델이다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 6.png" alt="untitled" />
</p>

<p><strong>Description:</strong></p>

<p>Brand: Racerstar</p>

<p>Item name: BR1806 2280KV Brushless Motor</p>

<p>RPM/V: 2280KV</p>

<p>Height: 26mm</p>

<p>Width: 23mm</p>

<p>Shaft diameter: M5</p>

<p>Motor mount hole size: M2</p>

<p>Weight: 20 grams</p>

<p>Voltage: 1-3S</p>

<p>Battery: 1-3S lithium polymer</p>

<p>Internal resistance: Ω</p>

<p>Usage: for 250 260 Multirotor Frame Kit</p>

<p>CW screw thread motor comes with red cap</p>

<p>CCW screw thread motor comes with black cap</p>

<p>Brushless Motor모터는 다상 교류에 의한 회전자계에 의해서 회전한다.</p>

<p><img src="https://mblogthumb-phinf.pstatic.net/MjAxODA3MTlfMjY5/MDAxNTMxOTgwMTE3OTAz.GYwGRHPxudvpefV1N340-qSrsJhYeAFW25pDoOhpu4wg.1I8atoTi_6q0UmrUsvGDVSICP_OQHCHnxGVdbnHszUAg.GIF.paynoh/img03_dc_motor_120.gif?type=w2" alt="https://mblogthumb-phinf.pstatic.net/MjAxODA3MTlfMjY5/MDAxNTMxOTgwMTE3OTAz.GYwGRHPxudvpefV1N340-qSrsJhYeAFW25pDoOhpu4wg.1I8atoTi_6q0UmrUsvGDVSICP_OQHCHnxGVdbnHszUAg.GIF.paynoh/img03_dc_motor_120.gif?type=w2" /></p>

<p>주황색 화살표가 모터의 회전이라고 생각하면 된다.</p>

<p>모터는 다음과 같이 인버터와 연결이 되고, 제어 명령에 따라서 모터를 회전 시킬 수 있다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 7.png" alt="untitled" />
</p>

<p><a href="https://m.blog.naver.com/paynoh/221322336204">https://m.blog.naver.com/paynoh/221322336204</a></p>

<p>전류 제어용 인버터의 단순도는 아래와 같다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 8.png" alt="untitled" />
</p>

<p><a href="https://m.blog.naver.com/paynoh/221322336204">https://m.blog.naver.com/paynoh/221322336204</a>
<a href="http://motioncontrol.co.kr/default/news/?nwsid=n3&amp;uid=9870">http://motioncontrol.co.kr/default/news/?nwsid=n3&amp;uid=9870</a></p>

<p>위와 같은 브릿지 회로를 이용하여 모터의 회전자계를 발생시켜서 모터를 제어한다.  스위칭 속도는 모터의 속도를 결정하고, 전류의 세기는 모터의 토크를 결정 짓는다.</p>

<p>ESC는 위의 전류 제어용 인버터의 역할에서 나타난 회전자계 발생을 담당한다. FC에서 ESC로 RPM 명령을 보내면 해당 RPM에 맞추어 회전자계를 발생시켜 모터의 회전을 만든다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 9.png" alt="untitled" />
</p>

<p><a href="https://ev-engineer-student.tistory.com/38">https://ev-engineer-student.tistory.com/38</a>
<a href="https://m.blog.naver.com/PostView.nhn?blogId=lagrange0115&amp;logNo=220611637281&amp;proxyReferer=https:%2F%2Fwww.google.com%2F">https://m.blog.naver.com/PostView.nhn?blogId=lagrange0115&amp;logNo=220611637281&amp;proxyReferer=https:%2F%2Fwww.google.com%2F</a></p>

<p>간단한 RL circuit 전동기는 아래와 같다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 10.png" alt="untitled" />
</p>

<p><a href="https://x-engineer.org/graduate-engineering/electronics/circuits/rl-circuit-detailed-mathematical-analysis/">https://x-engineer.org/graduate-engineering/electronics/circuits/rl-circuit-detailed-mathematical-analysis/</a>
<a href="https://ctms.engin.umich.edu/CTMS/index.php?example=MotorSpeed&amp;section=SystemModeling">https://ctms.engin.umich.edu/CTMS/index.php?example=MotorSpeed&amp;section=SystemModeling</a></p>

<p>KVL(the sum of the electrical voltage across the loop is zero)을 적용한 폐회로의 전압방정식은 $V=Ri+L{di \over dt}+E$ 이다. 여기서 $V$는 입력 전압 $E$는 역기전력이다.</p>

<p>모터에서 발생하는 토크는 $T=J{dw\over dt}+bw+T_L$ 이고, $w$는 모터의 회전속도이고 $T_L$은 부하토크이다.</p>

<p>여기서 $E=k_ew_m,T=k_ti$이고, $k_e$는 역기전력 상수, $k_t$는 모터 토크 상수 이다.</p>

<p>여기서 부하토크 $T_L$을 무시하고, $i, w, \theta$를 상태변수로 하는 상태공간 방정식을 세우면 아래와 같다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 11.png" alt="untitled" />
</p>

<p><a href="http://ktword.co.kr/abbr_view.php?m_temp1=5975">http://ktword.co.kr/abbr_view.php?m_temp1=5975</a></p>

<p>출력을 속도로하여 아래와 같이 설정하면</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 12.png" alt="untitled" />
</p>

<p>아래와 같은 전동기 구동시스템의 블록선도를 그릴 수 있다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 13.png" alt="untitled" />
</p>

<p><a href="https://m.blog.naver.com/PostView.nhn?blogId=hebojago84&amp;logNo=30150331023&amp;proxyReferer=https:%2F%2Fwww.google.com%2F">https://m.blog.naver.com/PostView.nhn?blogId=hebojago84&amp;logNo=30150331023&amp;proxyReferer=https:%2F%2Fwww.google.com%2F</a></p>

<p>전동기 구동시스템의 블록선도를 시스템 $G(s)$로 하여 다음과 같은 PID 제어기를 이용한 전동기 제어기를 구현할 수 있다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 14.png" alt="untitled" />
</p>

<p><a href="https://www.google.com/search?q=motor+%EC%A0%9C%EC%96%B4%EA%B8%B0+%EB%B8%94%EB%A1%9D%EC%84%A0%EB%8F%84&amp;tbm=isch&amp;ved=2ahUKEwjWzvyk763wAhUBA6YKHV2cDkoQ2-cCegQIABAA&amp;oq=motor+%EC%A0%9C%EC%96%B4%EA%B8%B0+%EB%B8%94%EB%A1%9D%EC%84%A0%EB%8F%84&amp;gs_lcp=CgNpbWcQAzoHCCMQ6gIQJzoICAAQsQMQgwE6BQgAELEDOgIIADoECCMQJzoECAAQAzoECAAQHjoGCAAQCBAeUJqNClji3gpgl-AKaA1wAHgDgAF_iAHmG5IBBDQuMjmYAQCgAQGqAQtnd3Mtd2l6LWltZ7ABCsABAQ&amp;sclient=img&amp;ei=WhyQYNa5C4GGmAXduLrQBA&amp;bih=937&amp;biw=1920&amp;hl=ko#imgrc=Op8ALVCKj4TkvM">https://www.google.com/search?q=motor+제어기+블록선도&amp;tbm=isch&amp;ved=2ahUKEwjWzvyk763wAhUBA6YKHV2cDkoQ2-cCegQIABAA&amp;oq=motor+제어기+블록선도&amp;gs_lcp=CgNpbWcQAzoHCCMQ6gIQJzoICAAQsQMQgwE6BQgAELEDOgIIADoECCMQJzoECAAQAzoECAAQHjoGCAAQCBAeUJqNClji3gpgl-AKaA1wAHgDgAF_iAHmG5IBBDQuMjmYAQCgAQGqAQtnd3Mtd2l6LWltZ7ABCsABAQ&amp;sclient=img&amp;ei=WhyQYNa5C4GGmAXduLrQBA&amp;bih=937&amp;biw=1920&amp;hl=ko#imgrc=Op8ALVCKj4TkvM</a></p>

<p>위와 같은 모터 제어 시스템을 설명한 이유는 추후 있을 드론 제어기 설계에 대한 이해를 돕기 위함이다. 우리는 여기서 Reference $r$을 드론의 위치 $x,y,z$와 yaw $\psi$를 입력으로 하여, ESC에 명령하기 위한 RPM을 출력으로 하는 제어기를 설계할 예정이다.</p>

<ol>
  <li>드론 프레임</li>
</ol>

<p>FC와 ESC, 모터, PDB가 고정될 드론의 Body는 아래와 같이 모델링하여 3D 프린터로 출력하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 15.png" alt="untitled" />
</p>

<p>FC와 PDB를 보호할 커버는 다음과 같이 모델링 하여 3D 프린터로 출력하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 16.png" alt="untitled" />
</p>

<p>프로펠러를 보호할 가드는 아래와 같이 모델링하여 출력하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 17.png" alt="untitled" />
</p>

<ol>
  <li>FC</li>
</ol>

<p>ARM Cortex M7을 CPU로 탑재한 ST사의 STM32H743IIT6  마이크로프로세서를 이용하여 FC를 구성하였다.</p>

<p>Datasheet:<a href="https://datasheetspdf.com/pdf/1337528/STMicroelectronics/STM32H743II/1">https://datasheetspdf.com/pdf/1337528/STMicroelectronics/STM32H743II/1</a></p>

<p>센서 및 기타 칩셋</p>

<ul>
  <li>ICM-20602 (3-axis gyroscope, 3-axis accelerometer, SPI)</li>
  <li>MMC5883MA (3-axis magnetic sensor, I2C)</li>
  <li>LPS33HW (Barometor, SPI)</li>
  <li>FT230X SSOP (USB 2.0 Uart Interface)</li>
  <li>E01 ML01SP4 (2.4ghz Wireless Commuication, SPI)</li>
</ul>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 18.png" alt="untitled" />
</p>

<p>위의 칩셋과 마이크로프로세서를 인터페이스 하여 Inertial Navigation에 필요한 정보를 수집하고 Ground Control Station (GCS)과 통신이 가능하도록 구성하였다.</p>

<ol>
  <li>배터리 (PT-B2200N-SP35)</li>
</ol>

<p>배터리는 3S, 11.1V, 45C+를 선정하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 19.png" alt="untitled" />
</p>

<p>아래는 해당 배터리의 Specification 이다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 20.png" alt="untitled" />
</p>

<ol>
  <li>제작</li>
</ol>

<p>다음은 1~6에서 설명한 드론 제작용 부품을 이용하여 남땜, 조립하는 과정이다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 21.png" alt="untitled" />
</p>

<p>가장 먼저 3S LiPo 배터리와 연결할 PDB-XT60의 배터리 단자를 납땜하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 22.png" alt="untitled" />
</p>

<p>이후 PDB-XT60을 3D 프린터로 출력한 드론 바디에 연결하였다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 23.png" alt="untitled" />
</p>

<p>이후 ESC에 전원선을 납땜하고, ESC의 T를 모두 STM32H743IIT6의 PB8 (RX)와 연결하고 각 S를 PA8~11(GPIO out)로 연결하여 DShot1200 프로토콜을 이용한 FC-ESC 간 통신을 준비한다. 이후 ESC의 ABC 상을 모터와 연결한다. 이때, CW 모터에는 ESC의 ABC out을 모터의 ABC in에 맞추어 연결하고, CCW 모터에는 ESC의 ABC중 B와 C를 교차하여 모터의 ABC in에 연결한다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 24.png" alt="untitled" />
</p>

<p>이후 모션 캡쳐 시스템에서의 측위를 위해, 반사 마커를 추가하였다. 드론은 Symmetric한 구조이기 때문에, 중앙부에 방향을 구별하기 위한 마커를 추가하여 총 5개의 마커를 사용하였다.</p>

<p>다음 포스팅에서는 아래 연구개발 일정에 따라서 드론 비행을 위한 제어기와 동역학적 이해에 대한 포스팅이 추가될 예정이다.</p>

<p align="center">
    <img src="assets/built/images/Imp/Untitled 25.png" alt="untitled" />
</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/quantum.png" alt="karzito" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/karzito">ChangHyeon Lee</a></h4>
                                
                                    <p>ph.D student in electrical engineering at POSTECH, Computing and Control Engineering Lab (CoCEL)</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/karzito">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/rainSurfing4.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; POSTECH ICT V+ 4.0 CLASS &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/ict/">Ict</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ict-ison-ndob">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-11-24 Nonlinear Disturbance Observer</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ict-ison-meeting_3">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-10-26 크로스터치 워크샵 관련 미팅</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ict-ison-motor-ctrlr">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-10-07 모터 제어</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/ict/">
                                
                                    See all 12 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ict-ison-ctrlr_1">
                <div class="post-card-image" style="background-image: url(/assets/built/images/ictCover.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ict-ison-ctrlr_1">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Ict</span>
                            
                        
                    

                    <h2 class="post-card-title">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-05-10 Drone Controller Design (1)</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/quantum.png" alt="ChangHyeon Lee" />
                        
                        <span class="post-card-author">
                            <a href="/author/karzito/">ChangHyeon Lee</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ict-ison-eskf2">
                <div class="post-card-image" style="background-image: url(/assets/built/images/ictCover.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ict-ison-eskf2">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Ict</span>
                            
                        
                    

                    <h2 class="post-card-title">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-07 Navigation System Implementation using Error-State Kalman Filter_2</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/quantum.png" alt="ChangHyeon Lee" />
                        
                        <span class="post-card-author">
                            <a href="/author/karzito/">ChangHyeon Lee</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
            <span>POSTECH ICT V+ 4.0 CLASS</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">POSTECH ICT V+ 4.0 매칭 기업 ISON 2021-04-26 Drone System Implementation</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=POSTECH+ICT+V%2B+4.0+%EB%A7%A4%EC%B9%AD+%EA%B8%B0%EC%97%85+ISON+2021-04-26+Drone+System+Implementation&amp;url=https://karzito.github.io/ict-ison-imp"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://karzito.github.io/ict-ison-imp"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">POSTECH ICT V+ 4.0 CLASS</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
